<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!--<script src="https://cdn.jsdelivr.net/npm/chart.js@2.8.0"></script>-->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.0.1/dist/chart.umd.min.js"></script>
  <script src="https://d3js.org/d3.v5.min.js"></script>

  <title>Title</title>
</head>
<body>

<div class="main">
  <div class="chart-container" style="position: relative; height:40vh; width:80vw">
    <canvas id="test1"></canvas>
  </div>
  <script>
    var ctx = document.getElementById('test1').getContext('2d');
    var chart = new Chart(ctx, {
      // The type of chart we want to create
      type: 'line',

      // The data for our dataset
      data: {
        labels: ['7월', '8월', '9월', '10월', '11월', '12월'],
        datasets: [{
          label: '해당 키워드에 대한 언급량 추이',
          backgroundColor: 'rgba(255, 99, 132, 0.5)',
          borderColor: 'rgb(255, 99, 132,1.5)',
          tension: false,
          fill: false,
          data: [10, 100, 60, 70, 140, 90]
        }]
      },

      // Configuration options go here
      options: {
        title: {
          display: true,
          text: '언급량 변동 그래프',
          fontSize: 30,
          fontColor: 'rgba(46, 49, 49, 1)'
        },
        legend: {
          labels: {
            fontColor: 'rgba(83, 51, 237, 1)',
            fontSize: 15
          }
        },
        scales: {
          xAxes: [{
            ticks: {
              fontColor: 'rgba(27, 163, 156, 1)',
              fontSize: '15'
            }
          }],
          yAxes: [{
            ticks: {
              beginAtZero: true,
              fontColor: 'rgba(246, 36, 89, 1)',
              fontSize: '15'
            }
          }]
        }
      }
    });
  </script>

  <div style="width:40vw; height:40vh; margin-top: 30%" ><canvas id="doughnut-chart" ></canvas></div>
  <script>
    new Chart(document.getElementById("doughnut-chart"), {
      type: 'doughnut',
      data: {
        labels: ["긍정", "부정", "중립"],
        datasets: [
          {
            label: "Population (millions)",
            backgroundColor: ["#3e95cd","#c45850", "#e8c3b9"],
            data: [2478,5267,734]
          }
        ]
      },
      options: {
        title: {
          display: true,
          text: '긍부정 언급 비율 그래프'
        }
      }
    });
  </script>

  <!--막대 그래프, 언론사별 긍부정도 비교 그래프-->

  <canvas id="test-chart"></canvas>

  <script>
    var ctx = document.getElementById("test-chart").getContext('2d');
    var myChart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ["마이니치", "산케이", "아사히", "NHK"],
        datasets: [{
          label: '긍정',
          backgroundColor: "#3e95cd",
          data: [90, 50, 35, 70],
        }, {
          label: '부정',
          backgroundColor: "#c45850",
          data: [10, 60, 30, 40],
        }, {
          label: '중립',
          backgroundColor: "#e8c3b9",
          data: [30, 40, 45, 10],
        }],
      },
      options: {
        tooltips: {
          displayColors: true,
          callbacks: {
            mode: 'x',
          },
        },
        scales: {
          x: {
            stacked: true,
          },
          y: {
            stacked: true
          }
        },
        responsive: true
      }
    });
  </script>



  <!--워드맵-->
  <div id="demo"></div>
  <script>
    + function (d3) {

      var swatches = function(el) {
        var w = screen.width,
                h = screen.height;

        var circleWidth = 10;

        var palette = {
          "lightgray": "#819090",
          "gray": "#708284",
          "mediumgray": "#536870",
          "darkgray": "#475B62",
          "darkblue": "#0A2933",
          "darkerblue": "#042029",
          "paleryellow": "#FCF4DC",
          "paleyellow": "#EAE3CB",
          "yellow": "#A57706",
          "orange": "#BD3613",
          "red": "#D11C24",
          "pink": "#C61C6F",
          "purple": "#595AB7",
          "blue": "#2176C7",
          "green": "#259286",
          "white": "#fefefe",
          "yellowgreen": "#738A05"
        }

        var nodes = [{
          name: "D3"
        }, {
          name: "Core",
          target: [0]
        }, {
          name: "Scales",
          target: [0]
        }, {
          name: "SVG",
          target: [0]
        }, {
          name: "Time",
          target: [0]
        }, {
          name: "Time",
          target: [0]
        }, {
          name: "Geometry",
          target: [0]
        }, {
          name: "Geography",
          target: [0]
        }];

        var links = [];

        for (var i = 0; i < nodes.length; i++) {
          if (nodes[i].target !== undefined) {
            for (var x = 0; x < nodes[i].target.length; x++) {
              links.push({
                source: nodes[i],
                target: nodes[nodes[i].target[x]]
              })
            }
          }
        }

        var myChart = d3.select(el)
                .append('svg')
                .attr('width', w)
                .attr('height', h)

        var force = d3.layout.force()
                .nodes(nodes)
                .links([])
                .gravity(0.1)
                .charge(-1000)
                .size([w, h])

        var link = myChart.selectAll('line')
                .data(links).enter().append('line')
                .attr('stroke', palette.white)

        var node = myChart.selectAll('circle1')
                .data(nodes).enter()
                .append('g')
                .call(force.drag);

        node.append('circle')
                .attr('cx', function(d) {
                  return d.x;
                })
                .attr('cy', function(d) {
                  return d.y;
                })
                .attr('r', circleWidth)
                .attr('stroke', function(d, i) {
                  if (i > 0) {
                    return palette.pink
                  } else {
                    return "transparent"
                  }
                })
                .attr('stroke-width', 2)
                .attr('fill', function(d, i) {
                  if (i > 0) {
                    return palette.white
                  } else {
                    return "transparent"
                  }
                })

        node.append('text')
                .text(function(d) {
                  return d.name
                })
                .attr('font-family', 'Roboto Slab')
                .attr('fill', function(d, i) {
                  if (i > 0) {
                    return palette.mediumgray
                  } else {
                    return palette.white
                  }
                })
                .attr('x', function(d, i) {
                  if (i > 0) {
                    return circleWidth + 20
                  } else {
                    return circleWidth - 15
                  }
                })
                .attr('y', function(d, i) {
                  if (i > 0) {
                    return circleWidth
                  } else {
                    return 8
                  }
                })
                .attr('text-anchor', function(d, i) {
                  if (i > 0) {
                    return 'beginning'
                  } else {
                    return 'end'
                  }
                })
                .attr('font-size', function(d, i) {
                  if (i > 0) {
                    return '2em'
                  } else {
                    return '3.4em'
                  }
                })

        force.on('tick', function(e) {
          node.attr('transform', function(d, i) {
            return 'translate(' + d.x + ', ' + d.y + ')';
          })

          link
                  .attr('x1', function(d) {
                    return d.source.x
                  })
                  .attr('y1', function(d) {
                    return d.source.y
                  })
                  .attr('x2', function(d) {
                    return d.target.x
                  })
                  .attr('y2', function(d) {
                    return d.target.y
                  })
        })

        force.start();

      }('#demo');

    }(window.d3);
  </script>

</div>

</body>
</html>